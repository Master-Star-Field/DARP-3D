# DARP-3D: Dynamic 3D Environment for Autonomous Underwater Vehicles (AUV)

[![GitHub stars](https://img.shields.io/github/stars/Master-Star-Field/DARP-3D?style=social)](https://github.com/Master-Star-Field/DARP-3D)
[![License](https://img.shields.io/badge/license-MIT-blue)](https://opensource.org/licenses/MIT)

–ü—Ä–æ–µ–∫—Ç **DARP-3D** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä—ë—Ö–º–µ—Ä–Ω—ã—Ö —Å—Ä–µ–¥ —Å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏ –∏ —Ç–µ—á–µ–Ω–∏—è–º–∏, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –Ω–∞ —Å–µ–∫—Ç–æ—Ä–∞ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π –¥–ª—è –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö –ø–æ–¥–≤–æ–¥–Ω—ã—Ö –∞–ø–ø–∞—Ä–∞—Ç–æ–≤ (–ê–ù–ü–ê). –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞—á–∏ –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –≤ —É—Å–ª–æ–≤–∏—è—Ö —Å–ª–æ–∂–Ω–æ–π –≥–∏–¥—Ä–æ–¥–∏–Ω–∞–º–∏–∫–∏.

---

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
- **3D-—Å—Ä–µ–¥—ã** —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π: —Å—Ñ–µ—Ä—ã, –ø–æ–¥–≤–æ–¥–Ω—ã–µ –≥–æ—Ä—ã, –ª–∞–±–∏—Ä–∏–Ω—Ç—ã.
- **–ì–∏–¥—Ä–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–æ–¥–µ–ª–∏** —Ç–µ—á–µ–Ω–∏–π —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
- **–ê–ª–≥–æ—Ä–∏—Ç–º—ã —Å–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**:
  - K-means —Å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–æ–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç–∏.
  - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π.
  - –í–æ–ª–Ω–æ–≤–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π –∫ —Ç—Ä—ë—Ö–º–µ—Ä–Ω–æ–π –∫–∞—Ä—Ç–µ.
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å–µ—Ç–∫–∏** –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π (–∫–≤–∞–¥—Ä–æ–¥–µ—Ä–µ–≤—å—è, –¥–µ—Ñ–æ—Ä–º–∏—Ä—É–µ–º—ã–µ —Å–ª–æ–∏).
- **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π** —Å –∑–º–µ–µ–≤–∏–¥–Ω—ã–º –æ–±—Ö–æ–¥–æ–º –∏ –º–µ–∂—Å–ª–æ–π–Ω—ã–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏.
- **–û–±—É—á–µ–Ω–∏–µ —Å –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º** (DQN, ND3QN) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ê–ü–ê.
- –ü–æ—á—Ç–∏ –∫ –∫–∞–∂–¥–æ–º—É —ç—Ç–∞–ø—É —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω –±–ª–æ–∫–Ω–æ—Ç —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–ª–∏ –ø–æ–ø—Ä–æ–±—ã–≤–∞—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
---

üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

![–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ](https://github.com/user-attachments/assets/cc2b73fd-5dd6-4de1-8119-df8f740f252f)


üìä ## –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

**–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ–∫—Ç–æ—Ä–∞**

 ![–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ](https://github.com/user-attachments/assets/448eced8-5f88-4fa7-9bbe-76dfd9d089f6)

–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å–µ—Ç–∫–∏
<div align="center"> <img src="images/quad_grid.png" width="45%" height="150%" alt="–ö–≤–∞–¥—Ä–æ–¥–µ—Ä–µ–≤—å—è"> <img src="images/deform_grid.png" width="45%" alt="–î–µ—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ç–∫–∞"> </div>
–û–±—É—á–µ–Ω–∏–µ —Å –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º
<div align="center"> <img src="images/2D_controller.png" width="45%" alt="–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –¥–ª—è 2-D"> <img src="images/3D_controller.png" width="45%" alt="–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –¥–ª—è 3-D"> </div>


### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–æ—Ä–Ω–æ–π –º–µ—Å—Ç–Ω–æ—Å—Ç–∏
```py
mountain_map = generate_mountains(num_peaks=5, grid_size=(100, 100, 20))
```
## –°–æ–∑–¥–∞–Ω–∏–µ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞
```py
maze_structure = generate_maze(width=10, height=10, add_cycles=5)
maze_map = render_maze(maze_structure, cell_size=5, wall_height=2)
```
### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ–∫—Ç–æ—Ä–∞
```py
from region_division import constrained_geodesic_kmeans
```
### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π –∞–≥–µ–Ω—Ç–æ–≤
```py
num_agents = 3
agent_positions = np.array([[x1, y1, z1], [x2, y2, z2], [x3, y3, z3]])
```

### –ó–∞–ø—É—Å–∫ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ K-means —Å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–æ–π
```py
regions = constrained_geodesic_kmeans(
    map_3d=combined_map,
    num_agents=num_agents,
    agent_positions=agent_positions,
    max_iterations=50
)
```
### –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π
```py
from planer import build_trajectories_by_sectors

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—É—Ç–µ–π –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤
trajectories = build_trajectories_by_sectors(
    map_3d=combined_map,
    regions=regions,
    agent_positions=agent_positions
)
```


## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/Master-Star-Field/DARP-3D.git
   cd DARP-3D
